<!DOCTYPE html>
<html>

<head>
	<link rel = "stylesheet" type = "text/css" href = "css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<style>

#add_participant_btn {
	background-color: lightblue;
	border-radius: 5px;
}

#remove_participant_btn {
	background-color: pink;
	border-radius: 5px;
	visibility: hidden;
}
</style>

<body>
	
	<h1>SplitTab</h1>
	<h2>Create a new Tab</h2>

	<h3>Restaurant Name</h3>
	<input type="text" placeholder="Junior's Cheesecake"></input>

	<h3>Please Enter Particpants Name</h3>

	You<br><input id = "person1" name="input_name" type = "text" placeholder= "Your Name"><br><br>

	<div id="testing"></div>

	<button id = "add_participant_btn" type="button">+ Add new person</button>

	<button id ="remove_participant_btn" type="button">- Remove</button>


	<span class="glyphicon glyphicon-plus-sign" id = "add_participant" style = "color:green;" aria-hidden="true">
		<div id = "participants_list">
		</div>
	</span>

	<script>

	var count = 1;


	$('#add_participant_btn').click(function(){

		count += 1;
		var name = 'Person ' + count;
		$("#testing").append('<div>'+name+'<br><input placeholder = "Name"></input><br><br><div>');
		$("#testing :last-child input").focus();
		$('#remove_participant_btn').css("visibility", "visible");
		
		if(count == 2){
			$('#participants_list').append('<div class = "participant_option">'+$('#person1').val()+'</div>');
		}else{
			$('#participants_list').append('<div class = "participant_option">'+$("#testing :nth-last-child(2) input").val()+'</div>');
		}
	});


	$('#remove_participant_btn').click(function(){

		count -= 1;
		var select = document.getElementById("testing");

		if (count < 2) {
			$('#remove_participant_btn').css("visibility", "hidden");
		}
		else {
			var select = document.getElementById("testing");
		}

		select.removeChild(select.lastChild);
	});


	$("#add_participant").click(function(){
		$("div#participants_list").css("visibility","visible");
		console.log("y");
	});

	$(document).on('click', '.participant_option', function(){
		$(this).toggleClass('select');
	});

	function getColor(count) {
		var colors = ['#ff4d4d', '#4d4dff', '#4dff4d', '#ffff4d', '#4dffff', '#ff4dff'];
		return colors[count % 6];
	}

	</script>
</body>
</html>