<!DOCTYPE html>
<html>

<head>
	<link rel = "stylesheet" type = "text/css" href = "css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Iceland" rel="stylesheet">
</head>
<style>
#remove_btn {
	visibility: hidden;
}

.person:hover #remove_btn {
	visibility: visible;
}
</style>

<body>
	<div class = "bodyBox">
		<h4>----------------------------</h4>
		<h1 id = "title">SplitTab</h1>
		<h4>----------------------------</h4>

		<h3>Restaurant Name</h3>
		<input type="text" placeholder="Junior's Cheesecake" value = "" id ="restaurant_name"></input>
		<h4>--------------------------------------------------------</h4>
		<h3>Please Enter Particpants Name</h3>

		<div id="person_list"></div>

		<button id = "new_person_btn" type="button">+ Add new person</button>
		<h4>--------------------------------------------------------</h4>
		<button id = "done_btn" type="button">Done</button>
		<h4>Thank You</h4>
	</div>

	<div class = "bodyBox" id = "addExpenseRecipt">
		<h4>----------------------------</h4>
		<h1 id ="restaurant"></h1>
		<h4>----------------------------</h4>
		<span class="glyphicon glyphicon-plus-sign" id="add_participant" style="color:green;" aria-hidden="true"></span>
		<div id = "participants_list"></div>

	</div>
	<script>

	var count = 1;


	$('#new_person_btn').click(function(){

		count += 1;
		//var name = 'Person ' + count;
		$("#person_list").append('<div class="person"><br><input placeholder="Name"></input><span id="remove_btn" class="glyphicon glyphicon-remove-sign" style="color:red;" aria-hidden="true"></span><br><br><div>');
		$("#person_list :last-child input").focus();
		
		if(count == 2){
			$('#participants_list').append('<div class = "participant_option">'+$('#person').val()+'</div>');
			console.log("1");
		}else{
			$('#participants_list').append('<div class = "participant_option">'+$("#person_list :nth-last-child(2) input").val()+'</div>');
			console.log("2");
		}
	});



	$("#add_participant").click(function(){
		if($("div#participants_list").css("visibility") == 'visible'){
			$("div#participants_list").css('visibility','hidden');
		}else{
			$("div#participants_list").css('visibility','visible');
		}	
	});

	$(document).on('click', '.participant_option', function(){
		$(this).toggleClass('select');
	});

	$(document).on('click', '#remove_btn', function(){
		$(this).parent().remove();
	});

	$('#done_btn').click(function(){
		if(!$('#restaurant_name').val()){
			alert("You forgot to input Restaurant name!");
		}else{
			$('.bodyBox').css('display','none');
			$('#addExpenseRecipt').css('display','block');
			$('#restaurant').html( $('#restaurant_name').val());
		}
	})




	//Not useful yet
	function getColor(count) {
		var colors = ['#ff4d4d', '#4d4dff', '#4dff4d', '#ffff4d', '#4dffff', '#ff4dff'];
		return colors[count % 6];
	}

	</script>
</body>
</html>